<!DOCTYPE html>
<html>
    	<head>
<title>Snap.svg Freetransform attempt</title>
<script src="analytics.js" async></script>
	</head>
<body>
<svg id="svgout" width="600" height="600"></svg>

<link href="/snapstyle.css" rel="stylesheet">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script src="snap.svg.js"></script>
<script src="snaptut-freetransform-vb3.js"></script>
<script src="animate-object-path.js"></script>
<script src="flatten.js"></script>

<script>

var s = Snap("#svgout");
//s.attr({ viewBox: "250 0 200 200" });
s.attr({ viewBox: "0 0 400 400" });

var myEl = s.rect(280,80,200,20).transform('t20,20r20');

var text = s.text(250,20,"Double click main object to add/remove handles, drag centre handle or outer handles to move.");
var text2 = s.text(250,40,"Note this isnt well tested, so dont use in anything important as is!");

myEl.ftCreateHandles();

//Snap.load( "Dreaming_tux_vb.svg", function( frag ) { 
Snap.load( "https://dl.dropboxusercontent.com/u/140225334/bicycle.svg", function( frag ) {
	var g = s.g();
	g.append(frag);
//	g.ftCreateHandles();
	g.transform( 't50,50');

	var circle = s.circle(0,0,20);

	setTimeout( function() {
//		g.ftRemoveHandles();
//		var pathSet = g.selectAll('path');
//	console.log( g.node );
		flatten(g.node);
	console.log( g.node );
//		circle.drawAtPath( pathSet[0], 1000, { startingTransform: g.transform().toString() });
	
	}, 5000 );
} );



</script>
</body>


